{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\n\nfunction CarritoComponent_div_5_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 11);\n    i0.ɵɵtext(2, \"Disponible\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"input\", 12);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate1(\"Pedidos \", item_r1.quantity, \"\");\n  }\n}\n\nfunction CarritoComponent_div_5_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\")(1, \"h5\");\n    i0.ɵɵtext(2, \"Precio c/u\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 14);\n    i0.ɵɵlistener(\"click\", function CarritoComponent_div_5_div_9_Template_button_click_5_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return ctx_r5.deleteItem(item_r1.product.nombre);\n    });\n    i0.ɵɵtext(6, \"Eliminar\");\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"$\", item_r1.product.precio, \"\");\n  }\n}\n\nfunction CarritoComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 4);\n    i0.ɵɵelement(2, \"img\", 7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 8);\n    i0.ɵɵelement(4, \"br\");\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, CarritoComponent_div_5_div_7_Template, 7, 1, \"div\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 10);\n    i0.ɵɵtemplate(9, CarritoComponent_div_5_div_9_Template, 7, 1, \"div\", 9);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", item_r1.product.imagen, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(item_r1.product.nombre);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r1.product.existencia > 0);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r1.product.precio > 0);\n  }\n}\n\nexport class CarritoComponent {\n  constructor(router, activatedRoute) {\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.items = [];\n    this.total = 0;\n  }\n\n  ngOnInit() {\n    this.obtener_localstorage();\n    this.totalCompra();\n  }\n\n  obtener_localstorage() {\n    this.items = JSON.parse(localStorage.getItem('cart') || '{}');\n  }\n\n  reloadCurrentRoute() {\n    this.ngOnInit();\n  }\n\n  eliminar(key) {\n    localStorage.removeItem(key);\n    this.reloadCurrentRoute();\n  }\n\n  deleteItem(nombre) {\n    console.log(\"Deleting : \", nombre);\n    let shopping_cart = [];\n    let index;\n    shopping_cart = JSON.parse(localStorage.getItem('cart') || '{}');\n\n    for (let i in shopping_cart) {\n      if (nombre == shopping_cart[i].product.name) {\n        index = i;\n        console.log(index);\n      }\n    }\n\n    shopping_cart.splice(index, 1);\n    console.log(\"shopping_cart \", shopping_cart);\n    localStorage.setItem('cart', JSON.stringify(shopping_cart));\n    this.reloadCurrentRoute();\n  }\n\n  totalCompra() {\n    let shopping_cart = [];\n    let suma = 0;\n    let total = 0;\n    let multi = 0;\n    shopping_cart = JSON.parse(localStorage.getItem('cart') || '{}');\n\n    for (let i in shopping_cart) {\n      suma = shopping_cart[i].quantity;\n      multi = shopping_cart[i].product.precio;\n      total += suma * multi;\n    }\n\n    return total;\n  }\n\n}\n\nCarritoComponent.ɵfac = function CarritoComponent_Factory(t) {\n  return new (t || CarritoComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\n\nCarritoComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarritoComponent,\n  selectors: [[\"app-carrito\"]],\n  decls: 16,\n  vars: 4,\n  consts: [[1, \"container\", 2, \"margin\", \"3rem\"], [1, \"row\"], [1, \"col-9\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-3\"], [1, \"text-center\"], [1, \"btn\", \"btn-success\", \"btn-sm\"], [1, \"card-img-top\", 3, \"src\"], [1, \"col-8\"], [4, \"ngIf\"], [1, \"col-1\"], [2, \"color\", \"greenyellow\"], [\"type\", \"number\", \"placeholder\", \"Cantidad\", 1, \"form-control\"], [2, \"color\", \"green\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]],\n  template: function CarritoComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Carrito\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2);\n      i0.ɵɵtemplate(5, CarritoComponent_div_5_Template, 10, 4, \"div\", 3);\n      i0.ɵɵpipe(6, \"async\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"h5\");\n      i0.ɵɵtext(10, \"Total a pagar\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"h4\");\n      i0.ɵɵtext(12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"br\");\n      i0.ɵɵelementStart(14, \"button\", 6);\n      i0.ɵɵtext(15, \"Proceder a pagar\");\n      i0.ɵɵelementEnd()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(6, 2, ctx.items));\n      i0.ɵɵadvance(7);\n      i0.ɵɵtextInterpolate1(\"$\", ctx.totalCompra(), \"\");\n    }\n  },\n  directives: [i2.NgForOf, i2.NgIf],\n  pipes: [i2.AsyncPipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJyaXRvLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"sources":["C:/Users/Ricardo/Desktop/prueba/CursoCompleto/angular-mysql-crud/SCV/src/app/components/carrito/carrito.component.ts"],"names":["i0","i1","i2","CarritoComponent_div_5_div_7_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","item_r1","ɵɵnextContext","$implicit","ɵɵadvance","ɵɵtextInterpolate1","quantity","CarritoComponent_div_5_div_9_Template","_r7","ɵɵgetCurrentView","ɵɵlistener","CarritoComponent_div_5_div_9_Template_button_click_5_listener","ɵɵrestoreView","ctx_r5","deleteItem","product","nombre","precio","CarritoComponent_div_5_Template","ɵɵtemplate","ɵɵproperty","imagen","ɵɵsanitizeUrl","ɵɵtextInterpolate","existencia","CarritoComponent","constructor","router","activatedRoute","items","total","ngOnInit","obtener_localstorage","totalCompra","JSON","parse","localStorage","getItem","reloadCurrentRoute","eliminar","key","removeItem","console","log","shopping_cart","index","i","name","splice","setItem","stringify","suma","multi","ɵfac","CarritoComponent_Factory","t","ɵɵdirectiveInject","Router","ActivatedRoute","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","CarritoComponent_Template","ɵɵpipe","ɵɵpipeBind1","directives","NgForOf","NgIf","pipes","AsyncPipe","styles"],"mappings":"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","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@angular/common\";\r\nfunction CarritoComponent_div_5_div_7_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\", 11);\r\n    i0.ɵɵtext(2, \"Disponible\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(3, \"br\");\r\n    i0.ɵɵelementStart(4, \"p\");\r\n    i0.ɵɵtext(5);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelement(6, \"input\", 12);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const item_r1 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(5);\r\n    i0.ɵɵtextInterpolate1(\"Pedidos \", item_r1.quantity, \"\");\r\n} }\r\nfunction CarritoComponent_div_5_div_9_Template(rf, ctx) { if (rf & 1) {\r\n    const _r7 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"div\")(1, \"h5\");\r\n    i0.ɵɵtext(2, \"Precio c/u\");\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"p\", 13);\r\n    i0.ɵɵtext(4);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(5, \"button\", 14);\r\n    i0.ɵɵlistener(\"click\", function CarritoComponent_div_5_div_9_Template_button_click_5_listener() { i0.ɵɵrestoreView(_r7); const item_r1 = i0.ɵɵnextContext().$implicit; const ctx_r5 = i0.ɵɵnextContext(); return ctx_r5.deleteItem(item_r1.product.nombre); });\r\n    i0.ɵɵtext(6, \"Eliminar\");\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const item_r1 = i0.ɵɵnextContext().$implicit;\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate1(\"$\", item_r1.product.precio, \"\");\r\n} }\r\nfunction CarritoComponent_div_5_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\", 1)(1, \"div\", 4);\r\n    i0.ɵɵelement(2, \"img\", 7);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(3, \"div\", 8);\r\n    i0.ɵɵelement(4, \"br\");\r\n    i0.ɵɵelementStart(5, \"p\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtemplate(7, CarritoComponent_div_5_div_7_Template, 7, 1, \"div\", 9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementStart(8, \"div\", 10);\r\n    i0.ɵɵtemplate(9, CarritoComponent_div_5_div_9_Template, 7, 1, \"div\", 9);\r\n    i0.ɵɵelementEnd()();\r\n} if (rf & 2) {\r\n    const item_r1 = ctx.$implicit;\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"src\", item_r1.product.imagen, i0.ɵɵsanitizeUrl);\r\n    i0.ɵɵadvance(4);\r\n    i0.ɵɵtextInterpolate(item_r1.product.nombre);\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵproperty(\"ngIf\", item_r1.product.existencia > 0);\r\n    i0.ɵɵadvance(2);\r\n    i0.ɵɵproperty(\"ngIf\", item_r1.product.precio > 0);\r\n} }\r\nexport class CarritoComponent {\r\n    constructor(router, activatedRoute) {\r\n        this.router = router;\r\n        this.activatedRoute = activatedRoute;\r\n        this.items = [];\r\n        this.total = 0;\r\n    }\r\n    ngOnInit() {\r\n        this.obtener_localstorage();\r\n        this.totalCompra();\r\n    }\r\n    obtener_localstorage() {\r\n        this.items = JSON.parse(localStorage.getItem('cart') || '{}');\r\n    }\r\n    reloadCurrentRoute() {\r\n        this.ngOnInit();\r\n    }\r\n    eliminar(key) {\r\n        localStorage.removeItem(key);\r\n        this.reloadCurrentRoute();\r\n    }\r\n    deleteItem(nombre) {\r\n        console.log(\"Deleting : \", nombre);\r\n        let shopping_cart = [];\r\n        let index;\r\n        shopping_cart = JSON.parse(localStorage.getItem('cart') || '{}');\r\n        for (let i in shopping_cart) {\r\n            if (nombre == shopping_cart[i].product.name) {\r\n                index = i;\r\n                console.log(index);\r\n            }\r\n        }\r\n        shopping_cart.splice(index, 1);\r\n        console.log(\"shopping_cart \", shopping_cart);\r\n        localStorage.setItem('cart', JSON.stringify(shopping_cart));\r\n        this.reloadCurrentRoute();\r\n    }\r\n    totalCompra() {\r\n        let shopping_cart = [];\r\n        let suma = 0;\r\n        let total = 0;\r\n        let multi = 0;\r\n        shopping_cart = JSON.parse(localStorage.getItem('cart') || '{}');\r\n        for (let i in shopping_cart) {\r\n            suma = shopping_cart[i].quantity;\r\n            multi = shopping_cart[i].product.precio;\r\n            total += suma * multi;\r\n        }\r\n        return total;\r\n    }\r\n}\r\nCarritoComponent.ɵfac = function CarritoComponent_Factory(t) { return new (t || CarritoComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i1.ActivatedRoute)); };\r\nCarritoComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: CarritoComponent, selectors: [[\"app-carrito\"]], decls: 16, vars: 4, consts: [[1, \"container\", 2, \"margin\", \"3rem\"], [1, \"row\"], [1, \"col-9\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-3\"], [1, \"text-center\"], [1, \"btn\", \"btn-success\", \"btn-sm\"], [1, \"card-img-top\", 3, \"src\"], [1, \"col-8\"], [4, \"ngIf\"], [1, \"col-1\"], [2, \"color\", \"greenyellow\"], [\"type\", \"number\", \"placeholder\", \"Cantidad\", 1, \"form-control\"], [2, \"color\", \"green\"], [1, \"btn\", \"btn-danger\", \"btn-sm\", 3, \"click\"]], template: function CarritoComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\r\n        i0.ɵɵtext(2, \"Carrito\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"div\", 2);\r\n        i0.ɵɵtemplate(5, CarritoComponent_div_5_Template, 10, 4, \"div\", 3);\r\n        i0.ɵɵpipe(6, \"async\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"div\", 5)(9, \"h5\");\r\n        i0.ɵɵtext(10, \"Total a pagar\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(11, \"h4\");\r\n        i0.ɵɵtext(12);\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelement(13, \"br\");\r\n        i0.ɵɵelementStart(14, \"button\", 6);\r\n        i0.ɵɵtext(15, \"Proceder a pagar\");\r\n        i0.ɵɵelementEnd()()()()();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(5);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(6, 2, ctx.items));\r\n        i0.ɵɵadvance(7);\r\n        i0.ɵɵtextInterpolate1(\"$\", ctx.totalCompra(), \"\");\r\n    } }, directives: [i2.NgForOf, i2.NgIf], pipes: [i2.AsyncPipe], styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjYXJyaXRvLmNvbXBvbmVudC5jc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}